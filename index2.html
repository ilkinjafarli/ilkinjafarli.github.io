import React, { useState } from 'react';
import { Download, FileText, Palette } from 'lucide-react';

const ResumePDFGenerator = () => {
  const [theme, setTheme] = useState('dark');
  
  const generatePDF = () => {
    const printWindow = window.open('', '', 'width=800,height=600');
    printWindow.document.write(getHTMLContent());
    printWindow.document.close();
    
    setTimeout(() => {
      printWindow.print();
    }, 250);
  };

  const getHTMLContent = () => {
    const isDark = theme === 'dark';
    
    return `
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Ilkin Jafarli - Resume</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Rajdhani:wght@600;700&family=Space+Grotesk:wght@300;400;600;700&family=Share+Tech+Mono&display=swap');
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    @page {
      size: A4;
      margin: 0;
    }
    
    body {
      font-family: 'Space Grotesk', sans-serif;
      background: ${isDark ? '#0a0a0a' : '#ffffff'};
      color: ${isDark ? '#c0c0c0' : '#212121'};
      line-height: 1.5;
      -webkit-print-color-adjust: exact;
      print-color-adjust: exact;
    }
    
    .page {
      width: 210mm;
      min-height: 297mm;
      padding: 15mm;
      margin: 0 auto;
      background: ${isDark ? '#0a0a0a' : '#ffffff'};
      position: relative;
    }
    
    /* Subtle texture overlay */
    .page::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='2'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
      opacity: ${isDark ? '0.015' : '0.04'};
      pointer-events: none;
    }
    
    .content {
      position: relative;
      z-index: 1;
    }
    
    /* Header */
    header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      border-bottom: 2px solid ${isDark ? '#2a2a2a' : '#e0e0e0'};
      padding-bottom: 12pt;
      margin-bottom: 16pt;
    }
    
    .name {
      font-family: 'Rajdhani', sans-serif;
      font-size: 34pt;
      font-weight: 700;
      letter-spacing: 3px;
      color: ${isDark ? '#fff5cc' : '#1a1a1a'};
      margin-bottom: 4pt;
      line-height: 1;
    }
    
    .subtitle {
      font-family: 'Share Tech Mono', monospace;
      color: ${isDark ? '#ffaa00' : '#1976d2'};
      text-transform: uppercase;
      letter-spacing: 2px;
      font-size: 9pt;
      font-weight: bold;
    }
    
    .contact {
      text-align: right;
      font-family: 'Share Tech Mono', monospace;
      font-size: 8pt;
      color: ${isDark ? '#888' : '#666'};
      line-height: 1.6;
    }
    
    .contact a {
      color: inherit;
      text-decoration: none;
    }
    
    /* Main Grid */
    .main-grid {
      display: flex;
      gap: 20pt;
    }
    
    .main-content {
      flex: 1;
    }
    
    .sidebar {
      width: 180pt;
    }
    
    /* Section Headers */
    h2 {
      font-family: 'Rajdhani', sans-serif;
      font-weight: 700;
      font-size: 11pt;
      color: ${isDark ? '#e0e0e0' : '#1a1a1a'};
      margin-bottom: 10pt;
      margin-top: 14pt;
      border-left: 3px solid ${isDark ? '#ffaa00' : '#1976d2'};
      padding-left: 8pt;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    .main-content h2:first-child {
      margin-top: 0;
    }
    
    /* Professional Summary */
    .summary p {
      margin-bottom: 8pt;
      font-size: 9pt;
      text-align: justify;
      line-height: 1.5;
    }
    
    .highlight {
      color: ${isDark ? '#ffaa00' : '#1976d2'};
      font-weight: 600;
    }
    
    /* Job Blocks */
    .job {
      margin-bottom: 14pt;
      page-break-inside: avoid;
    }
    
    .job-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 3pt;
      border-bottom: 1px solid ${isDark ? '#2a2a2a' : '#e0e0e0'};
      padding-bottom: 2pt;
    }
    
    .company {
      font-size: 10.5pt;
      font-weight: 700;
      color: ${isDark ? '#e0e0e0' : '#1a1a1a'};
    }
    
    .date {
      font-family: 'Share Tech Mono', monospace;
      color: ${isDark ? '#ffaa00' : '#1976d2'};
      font-size: 8pt;
      font-weight: bold;
    }
    
    .role {
      font-family: 'Share Tech Mono', monospace;
      color: ${isDark ? '#888' : '#666'};
      font-size: 8.5pt;
      margin-bottom: 6pt;
      text-transform: uppercase;
    }
    
    .job ul {
      list-style: none;
      padding-left: 0;
    }
    
    .job li {
      margin-bottom: 4pt;
      padding-left: 12pt;
      position: relative;
      font-size: 8.5pt;
      line-height: 1.45;
    }
    
    .job li::before {
      content: '>';
      position: absolute;
      left: 0;
      color: ${isDark ? '#ffaa00' : '#1976d2'};
      font-family: 'Share Tech Mono', monospace;
      font-weight: bold;
    }
    
    /* Sidebar */
    .skill-box {
      background: ${isDark ? 'rgba(255,170,0,0.05)' : 'rgba(25,118,210,0.05)'};
      border: 1px solid ${isDark ? '#2a2a2a' : '#e0e0e0'};
      padding: 8pt;
      margin-bottom: 8pt;
      font-size: 8pt;
      line-height: 1.4;
    }
    
    .skill-title {
      font-family: 'Rajdhani', sans-serif;
      font-weight: 700;
      color: ${isDark ? '#ffaa00' : '#1976d2'};
      font-size: 9pt;
      display: block;
      margin-bottom: 4pt;
      letter-spacing: 0.5px;
    }
    
    .lang-row {
      display: flex;
      justify-content: space-between;
      font-family: 'Share Tech Mono', monospace;
      font-size: 7.5pt;
      color: ${isDark ? '#888' : '#666'};
      border-bottom: 1px dotted ${isDark ? '#2a2a2a' : '#e0e0e0'};
      padding: 4pt 0;
    }
    
    .lang-row span:last-child {
      color: ${isDark ? '#ffaa00' : '#1976d2'};
      font-weight: bold;
    }
    
    .lang-row.highlight-lang {
      color: ${isDark ? '#ffaa00' : '#1976d2'};
      font-weight: bold;
    }
    
    .education-box {
      margin-top: 8pt;
    }
    
    .edu-title {
      font-family: 'Rajdhani', sans-serif;
      font-weight: 700;
      color: ${isDark ? '#ffaa00' : '#1976d2'};
      font-size: 9.5pt;
      margin-bottom: 2pt;
    }
    
    .edu-location {
      font-size: 7.5pt;
      color: ${isDark ? '#888' : '#666'};
      margin-bottom: 4pt;
    }
    
    .edu-degree {
      font-size: 8pt;
      line-height: 1.4;
    }
    
    /* Footer */
    footer {
      margin-top: 16pt;
      padding-top: 8pt;
      border-top: 1px solid ${isDark ? '#2a2a2a' : '#e0e0e0'};
      font-family: 'Share Tech Mono', monospace;
      font-size: 7pt;
      color: ${isDark ? '#666' : '#999'};
      display: flex;
      justify-content: space-between;
    }
    
    @media print {
      body {
        background: ${isDark ? '#0a0a0a' : '#ffffff'};
      }
      .page {
        margin: 0;
        border: none;
        box-shadow: none;
      }
    }
  </style>
</head>
<body>
  <div class="page">
    <div class="content">
      <header>
        <div>
          <div class="name">ILKIN JAFARLI</div>
          <div class="subtitle">Ecosystem Growth & Strategic Accounts</div>
        </div>
        <div class="contact">
          <div><a href="mailto:ilkin.jafarli@proton.me">ILKIN.JAFARLI@PROTON.ME</a></div>
          <div><a href="https://linkedin.com/in/ilkinjafarli">LINKEDIN/IN/ILKINJAFARLI</a></div>
          <div>BAKU / REMOTE</div>
        </div>
      </header>
      
      <div class="main-grid">
        <div class="main-content">
          <h2>Professional Summary</h2>
          <div class="summary">
            <p>Multilingual Web3 Strategist with 8+ years of experience scaling Fintech and Decentralized ecosystems. Expert in bridging Western protocols with <span class="highlight">APAC (Korean)</span> and CIS markets.</p>
            <p>Selected as a <span class="highlight">Binance CIS Regional Coach</span>. Proven track record of driving <span class="highlight">40% revenue growth</span> through strategic partnerships and reducing support overhead by 65% via AI-integrated systems.</p>
          </div>
          
          <h2>Execution Log</h2>
          
          <div class="job">
            <div class="job-header">
              <div class="company">DeFi Strategy Consultant</div>
              <div class="date">MAY 2025 â€“ PRESENT</div>
            </div>
            <div class="role">Private Portfolio Manager & Strategist</div>
            <ul>
              <li><strong>Protocol Research:</strong> Conducting in-depth due diligence on early-stage L1/L2 solutions and governance models.</li>
              <li><strong>Active Strategy:</strong> Managing active yield-generating strategies across CEX/DEX protocols, focusing on capital efficiency.</li>
            </ul>
          </div>
          
          <div class="job">
            <div class="job-header">
              <div class="company">BINANCE CIS</div>
              <div class="date">APR 2025 â€“ MAY 2025</div>
            </div>
            <div class="role">Web3 Coach & Regional Trainer (Strategic Contract)</div>
            <ul>
              <li><strong>Educational Leadership:</strong> Selected to lead the official "Binance Web3 101 Intensive," training local investor cohorts on DeFi security.</li>
              <li><strong>Brand Advocacy:</strong> Acted as a trusted bridge between the Binance global brand and the local community.</li>
            </ul>
          </div>
          
          <div class="job">
            <div class="job-header">
              <div class="company">NEXTOOL AI</div>
              <div class="date">OCT 2024 â€“ APR 2025</div>
            </div>
            <div class="role">Operations & Partnerships Manager</div>
            <ul>
              <li><strong>Strategic Growth:</strong> Spearheaded B2B outreach resulting in a <span class="highlight">40% increase</span> in platform tool submissions.</li>
              <li><strong>Workflow Architecture:</strong> Implemented scalable SOPs that streamlined product delivery across cross-functional teams.</li>
            </ul>
          </div>
          
          <div class="job">
            <div class="job-header">
              <div class="company">REHYPE (Web3 Growth)</div>
              <div class="date">DEC 2021 â€“ SEP 2024</div>
            </div>
            <div class="role">Senior Account Manager & Ecosystem Lead</div>
            <ul>
              <li><strong>Client PDS (DeFi):</strong> Architected self-serve knowledge base reducing ticket volume by <span class="highlight">65%</span>. Executed campaigns driving 30% increase in active users.</li>
              <li><strong>Client Accointing (SaaS):</strong> Promoted to <strong>Head of Community</strong> within 1 month. Built "CPA Partner Program" driving <span class="highlight">25% platform growth</span>.</li>
            </ul>
          </div>
          
          <div class="job">
            <div class="job-header">
              <div class="company">PORT OF BAKU</div>
              <div class="date">OCT 2018 â€“ OCT 2020</div>
            </div>
            <div class="role">Executive Assistant to Deputy General Director</div>
            <ul>
              <li><strong>RWA Relevance:</strong> Managed complex logistical data systems applicable to Real World Asset tokenization.</li>
              <li><strong>Intl. Relations:</strong> Managed PR for "Belt and Road Initiative," securing <span class="highlight">35% increase</span> in trade volume.</li>
            </ul>
          </div>
        </div>
        
        <div class="sidebar">
          <h2>Technical Arsenal</h2>
          <div class="skill-box">
            <span class="skill-title">Growth & Retention</span>
            VIP Account Mgmt, Partner Onboarding, Churn Reduction strategies.
          </div>
          <div class="skill-box">
            <span class="skill-title">Regional Strategy</span>
            Korean Market Entry, Localization, Cross-Cultural Negotiation.
          </div>
          <div class="skill-box">
            <span class="skill-title">Operations</span>
            Zendesk/Intercom architecture, KYC/AML response, Crisis Comms.
          </div>
          <div class="skill-box">
            <span class="skill-title">Tech Stack</span>
            AI Support Agents, HubSpot CRM, Notion Systems, On-Chain Analytics (Dune/Nansen).
          </div>
          
          <h2>Languages</h2>
          <div class="lang-row"><span>English</span><span>Fluent</span></div>
          <div class="lang-row"><span>Azerbaijani</span><span>Native</span></div>
          <div class="lang-row"><span>Turkish</span><span>Fluent</span></div>
          <div class="lang-row"><span>Russian</span><span>Fluent</span></div>
          <div class="lang-row highlight-lang"><span>Korean</span><span>Interm.</span></div>
          
          <h2>Education</h2>
          <div class="education-box">
            <div class="edu-title">Ajou University</div>
            <div class="edu-location">South Korea (2009-2013)</div>
            <div class="edu-degree">BBA Marketing<br/>KGSP Full Scholarship Recipient</div>
          </div>
        </div>
      </div>
      
      <footer>
        <div>SYSTEM STATUS: OPERATIONAL // ILKIN JAFARLI</div>
        <div>${theme.toUpperCase()} MODE</div>
      </footer>
    </div>
  </div>
</body>
</html>
    `;
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-8">
      <div className="max-w-4xl mx-auto">
        {/* Header */}
        <div className="bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-lg p-8 mb-6">
          <div className="flex items-center gap-3 mb-4">
            <FileText className="w-8 h-8 text-amber-400" />
            <h1 className="text-3xl font-bold text-white">Resume PDF Generator</h1>
          </div>
          <p className="text-slate-300">
            Generate a print-ready PDF version of your resume with optimized typography and layout.
          </p>
        </div>

        {/* Theme Selector */}
        <div className="bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-lg p-6 mb-6">
          <div className="flex items-center gap-2 mb-4">
            <Palette className="w-5 h-5 text-amber-400" />
            <h2 className="text-xl font-semibold text-white">Choose Theme</h2>
          </div>
          
          <div className="flex gap-4">
            <button
              onClick={() => setTheme('dark')}
              className={`flex-1 p-6 rounded-lg border-2 transition-all ${
                theme === 'dark'
                  ? 'border-amber-400 bg-slate-900/50'
                  : 'border-slate-600 bg-slate-800/30 hover:border-slate-500'
              }`}
            >
              <div className="text-left">
                <div className="text-lg font-semibold text-white mb-2">Dark Mode</div>
                <div className="text-sm text-slate-400">
                  Tungsten aesthetic with warm amber accents
                </div>
                <div className="mt-4 p-3 bg-black/80 rounded border border-amber-400/30">
                  <div className="text-amber-400 font-mono text-xs mb-1">ILKIN JAFARLI</div>
                  <div className="text-slate-400 text-xs">Background: #0a0a0a</div>
                </div>
              </div>
            </button>

            <button
              onClick={() => setTheme('light')}
              className={`flex-1 p-6 rounded-lg border-2 transition-all ${
                theme === 'light'
                  ? 'border-blue-500 bg-slate-900/50'
                  : 'border-slate-600 bg-slate-800/30 hover:border-slate-500'
              }`}
            >
              <div className="text-left">
                <div className="text-lg font-semibold text-white mb-2">Light Mode</div>
                <div className="text-sm text-slate-400">
                  Smoked pearl with cool blue accents
                </div>
                <div className="mt-4 p-3 bg-white rounded border border-blue-300">
                  <div className="text-blue-600 font-mono text-xs mb-1">ILKIN JAFARLI</div>
                  <div className="text-slate-600 text-xs">Background: #ffffff</div>
                </div>
              </div>
            </button>
          </div>
        </div>

        {/* Generate Button */}
        <button
          onClick={generatePDF}
          className="w-full bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 text-white font-bold py-4 px-8 rounded-lg transition-all transform hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-3 shadow-lg shadow-amber-500/30"
        >
          <Download className="w-6 h-6" />
          <span className="text-lg">Generate PDF Resume</span>
        </button>

        {/* Instructions */}
        <div className="mt-6 bg-slate-800/30 border border-slate-700/50 rounded-lg p-6">
          <h3 className="text-white font-semibold mb-3 flex items-center gap-2">
            <span className="text-amber-400">ðŸ“‹</span> Instructions
          </h3>
          <ul className="text-slate-300 text-sm space-y-2">
            <li className="flex items-start gap-2">
              <span className="text-amber-400 mt-1">1.</span>
              <span>Select your preferred theme (Dark or Light mode)</span>
            </li>
            <li className="flex items-start gap-2">
              <span className="text-amber-400 mt-1">2.</span>
              <span>Click "Generate PDF Resume" to open the print dialog</span>
            </li>
            <li className="flex items-start gap-2">
              <span className="text-amber-400 mt-1">3.</span>
              <span>In the print dialog, select "Save as PDF" as your destination</span>
            </li>
            <li className="flex items-start gap-2">
              <span className="text-amber-400 mt-1">4.</span>
              <span>Make sure "Background graphics" is enabled for proper colors</span>
            </li>
            <li className="flex items-start gap-2">
              <span className="text-amber-400 mt-1">5.</span>
              <span>Save your professional PDF resume!</span>
            </li>
          </ul>
        </div>
      </div>
    </div>
  );
};

export default ResumePDFGenerator;
